(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{404:function(t,e,s){"use strict";s.r(e);var a=s(4),n=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"腾讯云相关设置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#腾讯云相关设置"}},[t._v("#")]),t._v(" 腾讯云相关设置")]),t._v(" "),e("h3",{attrs:{id:"创建子帐号"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建子帐号"}},[t._v("#")]),t._v(" 创建子帐号")]),t._v(" "),e("ol",[e("li",[t._v("创建子帐号，链接"),e("a",{attrs:{href:"https://console.cloud.tencent.com/cam",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://console.cloud.tencent.com/cam"),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v("相关流程和配置项\n"),e("ul",[e("li",[t._v("选择"),e("code",[t._v("自定义创建")])]),t._v(" "),e("li",[t._v("选择"),e("code",[t._v("可访问资源并接收消息")])]),t._v(" "),e("li",[t._v("选择"),e("code",[t._v("编程访问")])]),t._v(" "),e("li",[t._v("权限选择"),e("code",[t._v("QcloudCOSDataFullControl")]),t._v("(对象存储（COS）数据读、写、删除、列出的访问权限)")])])])]),t._v(" "),e("h3",{attrs:{id:"创建存储桶"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建存储桶"}},[t._v("#")]),t._v(" 创建存储桶")]),t._v(" "),e("ol",[e("li",[t._v("创建存储桶，链接"),e("a",{attrs:{href:"https://console.cloud.tencent.com/lighthouse/cos/index?rid=1",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://console.cloud.tencent.com/lighthouse/cos/index?rid=1"),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v("添加用户权限\n"),e("ul",[e("li",[t._v("子帐号")]),t._v(" "),e("li",[t._v("完全控制")])])])]),t._v(" "),e("h2",{attrs:{id:"配置系统"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置系统"}},[t._v("#")]),t._v(" 配置系统")]),t._v(" "),e("ol",[e("li",[t._v("安装相关软件")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("apt install rclone fuse3 -y \n")])])]),e("ol",{attrs:{start:"2"}},[e("li",[t._v("配置文件"),e("code",[t._v("/root/.config/rclone/rclone.conf")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("[cos]\ntype = s3\nprovider = TencentCOS\nenv_auth = false\naccess_key_id = <帐号key>\nsecret_access_key = <帐号secret>\nendpoint = cos.ap-guangzhou.myqcloud.com\nacl = default\nstorage_class = default\n")])])]),e("ol",{attrs:{start:"3"}},[e("li",[t._v("创建挂载点")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("mkdir /mnt/cosfs\nmkdir /mnt/cosfs-cache\n# 测试\nrclone mount cos:/<存储桶的名称> /mnt/cosfs --cache-dir /mnt/cosfs-cache --vfs-cache-mode writes\n")])])]),e("ol",{attrs:{start:"4"}},[e("li",[t._v("配置系统服务"),e("code",[t._v("/etc/systemd/system/cosfs.service")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("[Unit]\nDescription=Rclone Mount CosFS Service\nAfter=network.target\n\n[Service]\nType=simple\nUser=root\nRestart=on-failure\nRestartSec=5s\nExecStart=/usr/bin/rclone mount cos:/<存储桶的名称> /mnt/cosfs --cache-dir /mnt/cosfs-cache --vfs-cache-mode writes\n\n[Install]\nWantedBy=multi-user.target\n")])])]),e("ol",{attrs:{start:"5"}},[e("li",[t._v("启动服务")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("systemctl enable cosfs\nsystemctl start cosfs\nsystemctl status cosfs\n")])])]),e("h2",{attrs:{id:"参考"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://luotianyi.vc/8869.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("腾讯云200M锐驰轻量实例手动挂载免费轻量对象存储"),e("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=n.exports}}]);