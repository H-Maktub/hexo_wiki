(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{404:function(t,s,a){"use strict";a.r(s);var e=a(4),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h3",{attrs:{id:"说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#说明"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),s("blockquote",[s("p",[t._v("记账软件")])]),t._v(" "),s("h3",{attrs:{id:"链接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#链接"}},[t._v("#")]),t._v(" 链接")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/mayswind/ezbookkeeping",target:"_blank",rel:"noopener noreferrer"}},[t._v("ezbookkeeping github"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://ezbookkeeping.mayswind.net/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ezbookkeeping wiki"),s("OutboundLink")],1)])]),t._v(" "),s("h3",{attrs:{id:"搭建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#搭建"}},[t._v("#")]),t._v(" 搭建")]),t._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("services")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ezbookkeeping")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" 8090"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8080")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("container_name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ezbookkeeping\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("environment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 关闭注册")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"EBK_USER_ENABLE_REGISTER=false"')]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"EBK_SERVER_ENABLE_GZIP=true"')]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 手动汇率")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"EBK_EXCHANGE_RATES_DATA_SOURCE=user_custom"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("volumes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ./data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/ezbookkeeping/data\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ./storage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/ezbookkeeping/storage\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mayswind/ezbookkeeping\n")])])]),s("h3",{attrs:{id:"安全设置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安全设置"}},[t._v("#")]),t._v(" 安全设置")]),t._v(" "),s("p",[t._v("禁止容器联网,启动系统的时候运行脚本")]),t._v(" "),s("div",{staticClass:"language-cmd extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("# 获取ip\nCONTAINER_IP1=$(docker inspect -f {{range.NetworkSettings.Networks}}{{.IPAddress}}{{end}} ezbookkeeping)\n# 禁止访问`192.168.0.0/12`以外的ip\niptables -I FORWARD -s $CONTAINER_IP1 ! -d 192.168.0.0/12 -j DROP\n# 允许访问`10.0.0.0/8`\niptables -I FORWARD -s $CONTAINER_IP1 -d 10.0.0.0/8 -j ACCEPT\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);